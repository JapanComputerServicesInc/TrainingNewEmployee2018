# このリポジトリについて

[JCS](http://www.japacom.co.jp/) 2018年度新入社員のフレームワーク研修用のリポジトリです。

# 研修のゴール

- フレームワークがどういうものなのかなんとなくわかる
- フレームワークの便利さがなんとなくわかる
- なんとなくシステムのつくり方がわかる
- システムと呼べるものが作れる
- 少しだけプログラミングが楽しいと思える

# リポジトリの内容

`php artisan make:auth` で認証機能を入れ、そこに簡単な `社員管理機能` を追加しただけのシンプルなリポジトリです。

# 研修内容

composerからLaravelをインストールしたところから、このリポジトリと同等の機能を実装してもらうことを研修内容にしています。
具体的な順序は以下の通りです。

1. [GitPitch](https://gitpitch.com/JapanComputerServicesInc/TrainingNewEmployee2018/master?grs=github&t=moon) を見て、なんとなくフレームワークを理解する
1. composerからLaravelをインストールする
1. DBを準備し、接続設定を行う
1. `php artisan make:auth` で認証機能をインストールする
1. MVCの説明と、Laravelでそれぞれがどのような場所に配置されているか説明する
1. EloquentやBootstrapについてざっくり理解し、少し触ってみる
1. 社員管理機能を実装する

実際の研修ではいくつかヒントも出していますが、社員管理機能の実装順序は以下のようにしています。

1. ヘッダーに社員管理メニューを実装する
    - ドロップダウンで以下メニューを選択出来るようにする
        - 一覧
        - 新規登録
1. ヘッダーから `新規登録` をクリックして新規登録画面に遷移させる
    - この時点で新規登録画面は何でも良い
1. 新規登録画面を実装する
    - フォーム画面の参考サイトは [こちら](https://getbootstrap.com/docs/4.0/components/forms/)
1. 正常な値を入力したら社員情報が登録される処理を実装する
    - HTMLから値を受け取る方法は [こちら](https://readouble.com/laravel/5.6/ja/requests.html) を参考にする
    - この時点で登録完了メッセージ等は不要
    - この時点では異常な値(入力なし、桁数オーバー等)は考慮しなくて良い
    - 登録完了後の画面はまだ表示しなくて良い(ddコマンドで登録したデータを表示するようにしておく)
        - ddコマンドの説明は [こちら](https://readouble.com/laravel/5.6/ja/helpers.html#method-dd)
1. ヘッダーから `一覧` をクリックして一覧画面に遷移させる
    - この時点で一覧画面は何でも良い
1. 一覧画面を実装する
    - この時点ではまだページネーションは不要
1. 一覧からidをクリックして編集画面に遷移させる    
    - この時点で編集画面は何でも良い
1. 編集画面を実装する
    - レイアウトは新規登録画面と一緒で良い
    - 登録されている値が初期表示されるようにする
1. 正常な値を入力したら社員情報が更新される処理を実装する(この時点で更新完了メッセージ等は不要)
    - 更新完了後は編集画面に戻す
    - この時点では異常な値(入力なし、桁数オーバー等)は考慮しなくて良い
1. 新規登録完了後、編集画面に遷移させる
    - この時点で登録完了メッセージ等は不要
1. 登録、更新完了後に更新完了した旨のメッセージを表示する
    - レイアウトは [こちら](https://v4-alpha.getbootstrap.com/components/alerts/) の `alert-success` で良い
    - この時点では異常な値(入力なし、桁数オーバー等)は考慮しなくて良い
1. 一覧画面にページネーションを実装する
    - ローカルにデータを10件以上登録しておく
    - ページネーションは10件ごとにする
1. 登録、更新時に、社員番号、氏名の必須バリデーションを実装する
    - バリデーションは [こちら](https://readouble.com/laravel/5.6/ja/validation.html) のフォームリクエストバリデーションを使う
    - フォームリクエストのファイルは `php artisan make:request XXXXXX` で作成する
    - 必須以外のバリデーションは不要
    - HTML側の必須バリデーションは不要
    - エラーメッセージは英語のままで良い
    - エラーで画面に戻った際にエラー文言を表示する
        - ログイン画面のエラーと同じようにする
            - フォームが赤枠になる
            - 項目の下に赤字でエラーメッセージが表示される
1. HTML側で必須バリデーションを実装する
    - `HTML5 required` で検索すればOK
1. 登録時に社員番号の数値と桁数バリデーションを実装する
    - 数値のみ許可し、桁数は8桁のみとする
    - 桁数だけのバリデーションだと `00000009` のような値が通ってしまう為、 `10000000` 以上のみ入力可のバリデーションも入れる
1. 登録時に社員番号のユニークバリデーションを実装する
1. 登録、更新時に氏名の文字数バリデーションを実装する
    - 文字数は50文字までとする
1. バリデーションエラーを日本語にする
    - フォームリクエストの `messages` でも良いし、Laravel本体の言語設定を切り替えても良い
1. '/' のルーティングを '/home' にリダイレクトする
    - welcome.blade.phpは残しておく
    - リダイレクトの参考サイトは [こちら](https://readouble.com/laravel/5.6/ja/responses.html)
1. 削除機能を実装する    
    - ボタンの見た目は気にしなくて良い
    - 参考サイトのようなモーダルでの確認は不要
        - ボタンクリック後に処理が実行されて良い
    - 物理削除で良い
    - 削除完了後は一覧画面を表示する
1. 削除ボタンを押されたらモーダルで確認するようにする
    - 参考サイトは [こちら](https://getbootstrap.com/docs/4.0/components/modal/)
